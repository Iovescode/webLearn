<!DOCTYPE html>
<html lang="en">

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="X-UA-Compatible" content="ie=edge">
		<title>Document</title>
	</head>

	<body>
		<script>
			var tree = [{
					id: 1,
					label: "1级目录1",
					children: [{
							id: "1-1",
							label: "1.1目录"
						},
						{
							id: "1-2",
							label: "1.2目录"
						},
						{
							id: "1-3",
							label: "1.3目录"
						},
					]
				},
				{
					id: 2,
					label: "1级目录2",
				},
				{
					id: 3,
					label: "1级目录3",
					children: [{
							id: "3-1",
							label: "3.1目录"
						},
						{
							id: "3-2",
							label: "3.2目录",
							children: [{
									id: "3-2-1",
									label: "3.2.1目录"
								},
								{
									id: "3-2-2",
									label: "3.2.2目录"
								},
								{
									id: "3-2-3",
									label: "3.2.3目录"
								}
							]
						}
					]
				},
				{
					id: 4,
					label: "1级目录4",
					children: [{
							id: "4-1",
							label: "4.1目录"
						},
						{
							id: "4-2",
							label: "4.2目录",
							children: [{
								id: "4-2-1",
								label: "4.2.1目录"
							}]
						}
					]
				},
				{
					id: 5,
					label: "1级目录5",
					children: [{
							id: "5-1",
							label: "5.1目录",
							children: [{
									id: "5-1-1",
									label: "5.1.1目录"
								},
								{
									id: "5-1-2",
									label: "5.1.2目录",

									children: [{
										id: "5-1-2-1",
										label: "5.1.2.1目录"
									}, ]
								}
							]
						},
						{
							id: "5-2",
							label: "5.2目录"
						}
					]
				},
			];
			let arr = []
			let arrSolt = []
			let result = []
			let render = function(tree) {
				if(!tree) return null
				let ul = document.createElement('ul');
				for(let i = 0; i < tree.length; i++) {
					let li = document.createElement('li')
					// 创建span标签
					let span = document.createElement('span');
					span.innerText = tree[i].label;
					if(isNaN(tree[i].id)) {
						arr.push({
							id: tree[i].id,
							isId: tree[i].id.toString()[0]
						})
					} else {
						arrSolt.push({
							id: tree[i].id
						})
					}
					li.appendChild(span);
					if(tree[i].children) {
						let sub = render(tree[i].children);
						li.appendChild(sub);
					}
					ul.appendChild(li);
				}
				return ul
			};
			document.body.innerHTML = '';
			document.body.appendChild(render(tree));
			arrSolt.forEach((item, index) => {
				let temporary = []
				arr.forEach((items, indexs) => {
					if(item.id == items.isId) {
						temporary.push(items.id)
					}
				})
				result.push({
					[item.id]: temporary
				})
			})

			console.log(result)
		</script>
	</body>

</html>